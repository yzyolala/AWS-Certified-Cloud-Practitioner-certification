## CloudFormation

CloudFormation是一种声明式的方式，用于勾画你的AWS基础架构，适用于任何资源（大多数资源都支持）。
例如，在一个CloudFormation模板中，你可以声明：
我需要一个安全组
我需要两个使用这个安全组的EC2实例
我需要一个S3桶
我需要一个负载均衡器（ELB）放在这些机器前面
然后CloudFormation会按照你指定的正确顺序，为你创建这些配置。

## 好处

作为代码的基础设施
没有资源是手动创建的，这对于控制来说是极好的
对基础架构的更改通过代码进行审查
栈中的每个资源都带有标签，所以你可以很容易地看到一个栈花费了你多少钱
你可以使用CloudFormation模板估算资源的成本
节省策略：在开发环境中，你可以在下午5点自动删除模板，并在早上8点安全地重新创建它们。

## AWS Cloud Development Kit (CDK)
- 使用熟悉的语言定义你的云基础设施：
  - JavaScript/TypeScript, Python, Java, 和 .NET
- 代码会被“编译”成CloudFormation模板（JSON/YAML格式）
- 因此你可以部署基础设施和应用程序运行时代码
  - 非常适合Lambda函数
  - 非常适合在ECS/EKS中的Docker容器

## 典型架构：Web应用三层结构
- 用户通过ELB访问应用，ELB后端连接多个可用区域，每个区域有EC2实例
- 使用Auto Scaling组自动调整EC2实例数量
- ElastiCache用于存储和检索会话数据以及缓存数据
- Amazon RDS用于读取/写入数据

## AWS上，开发者常面临的核心问题包括：

管理基础设施：确保基础设施稳定、安全且能够满足应用需求。
部署代码：将代码有效地部署到服务器上，包括CI/CD的实施。
配置数据库和负载均衡器：设置和维护数据库，以及配置负载均衡以优化性能和可用性。
规模化问题：随着用户量的增加，如何有效地扩展应用的能力。
此外，大部分Web应用程序遵循一个标准架构模式，通常涉及应用负载均衡器（ALB）和自动伸缩组（ASG）。开发者的主要目标是保证代码的顺利运行，并在不同的应用程序和环境中实现一致性。

## AWS Elastic Beanstalk 服务的知识点概要：

**服务概念**:

AWS Elastic Beanstalk 是一个 PaaS（平台即服务），提供给开发者一个简化应用部署流程的平台。
它整合了AWS的多项服务，如EC2、ASG、ELB和RDS。
Elastic Beanstalk 提供了一个集成的视图，让开发者对这些服务的配置保持完全控制。
成本结构:

使用 Elastic Beanstalk 本身不产生费用，但你需要支付运行实例的成本。

**托管服务特性**:

Elastic Beanstalk 自动处理实例的配置和操作系统管理。
部署策略可以由开发者设置，但实际部署操作由服务自行执行。
提供了容量预配、负载均衡和自动扩展等功能。
包括应用程序健康监控和响应系统，以确保应用运行的健康状态。
开发者职责:

开发者负责编写和维护应用程序代码。

**架构模型**:

Elastic Beanstalk 支持不同的部署架构模型，包括：
单实例部署：适合开发环境。
带负载均衡器和自动伸缩组的架构（LB + ASG）：适合生产或预生产环境。
仅自动伸缩组（ASG）：适合生产环境中的非Web应用程序。

**健康监控**:

Elastic Beanstalk 通过健康代理向 CloudWatch 推送指标。
自动检查应用健康状态并发布健康事件，允许开发者监控和响应应用状态。
