## S3存储桶：

亚马逊 S3 允许人们在“存储桶”（目录）中存储对象（文件）

存储桶必须有一个全球唯一的名称（跨所有区域所有账户）

S3 看起来像是一个全球服务，但存储桶是在某个区域中创建的，存储桶在区域级别定义

命名规范：不能使用大写，不能使用下划线，长度为 3-63 个字符，不能是 IP 地址，必须以小写字母或数字开头，不能以前缀 xn-- 开头，不能以后缀 -s3alias 结尾

## S3不同存储类别：

| 存储类别                   | 用途                            | 特点                                        | 成本               |
|------------------------|-------------------------------|-------------------------------------------|--------------------|
| S3 Standard            | 通用用途的数据存储               | 低延迟、高吞吐量，高可用性，适用于频繁访问的数据 | 相对较高         |
| S3 Intelligent-Tiering | 不确定数据访问模式的数据       | 自动优化成本，根据访问模式自动切换存储层     | 可变，通常较低于S3 Standard |
| S3 Standard-IA         | 不经常访问的数据                | 低延迟、高可用性，适用于访问频率较低的数据   | 相对较低         |
| S3 One Zone-IA         | 不经常访问的数据，容忍单点故障 | 低成本，但数据存储在单一可用区内              | 相对较低         |
| S3 Glacier             | 长期归档，低访问频率           | 低成本，但需要时间来检索数据                 | 非常低，但检索费用高且时间长 |
| S3 Glacier Deep Archive | 极低频的长期归档                | 极低成本，但检索数据需要很长时间            | 极低，但检索费用高且时间极长 |


## 责任分配

| AWS的责任                                    | 客户的责任            |
|---------------------------------------------|----------------------|
| 基础设施（全球安全、耐久性、可用性）                | S3版本控制          |
| 在两个设施同时丢失数据的情况下保持数据不丢失              | S3桶策略            |
| 配置和脆弱性分析                                | S3复制设置          |
| 合规性验证                                    | 日志记录和监控        |
|                                              | S3存储类别          |
|                                              | 数据在休息和传输时的加密 |

## AWS存储选项：

分为三种类型：块存储、文件存储和对象存储。

### 块存储（BLOCK）:

EBS（Elastic Block Store）: 用于与EC2实例一起使用，适合处理工作负载需求的高性能数据库。

EC2 Instance Store: 提供临时块级存储，直接连接到EC2实例，适合需要临时存储空间且能承受实例停止或终止导致数据丢失的情况。

### 文件存储（FILE）:

EFS（Elastic File System）: 提供简单、可伸缩的文件存储，适用于多个EC2实例，常用于共享文件系统。

### 对象存储（OBJECT）:

S3（Simple Storage Service）: 提供高度可伸缩的对象存储，适用于存储和检索任意数量的数据，常用于备份、存档、数据湖和大规模分布式系统。

Glacier: S3的一部分，专门用于长期归档和数据备份，提供低成本的存储选项，但数据检索时间较长。

## AWS Storage Gateway

AWS Storage Gateway是一个在本地数据和S3云数据之间架设的桥梁。

它是一个混合存储服务，允许在本地无缝地使用AWS云。

使用案例包括：灾难恢复、备份和恢复、层次化存储。

## 总结

存储桶与对象：全球唯一名称，与区域关联

S3安全性：IAM策略，S3桶策略（公共访问），S3加密

S3网站：在Amazon S3上托管静态网站

S3版本控制：文件的多个版本，防止意外删除

S3复制：同区域或跨区域复制，必须启用版本控制

S3存储类别：标准，IA，一区-IA，智能，Glacier（即时，灵活，深度）

Snow Family：通过物理设备将数据导入S3，边缘计算

OpsHub：桌面应用程序管理Snow Family设备

存储网关：混合解决方案以将本地存储扩展到S3

## 储存类型总结

| 存储类别/服务                       | 适用场景                                                   | 成本效益                      | 访问/检索时间           | 数据耐久性与可用性                      |
|-----------------------------------|-----------------------------------------------------------|-----------------------------|------------------------|----------------------------------------|
| Glacier                   | 长期数据存档和备份                                          | 低成本                       | 可能需要几分钟到几小时    | 高耐久性                              |
| Glacier Deep Archive      | 很少或几乎不检索的长期数据存档                              | 最低成本                     | 可能超过12小时           | 高耐久性                              |
| Standard-IA            | 不常访问的数据，需要快速访问                                | 中等成本                     | 立即可用                 | 存储在多个可用区，高耐久性              |
| Intelligent Tiering    | 访问模式不定的数据                                          | 成本随访问模式变化            | 立即可用                 | 高耐久性                              |
| Standard - General Purpose| 频繁访问的数据                                            | 通用存储类别                  | 立即可用                 | 存储在多个可用区，非常高耐久性          |
| One Zone-Infrequent Access| 不常访问的数据，只在一个可用区存储                          | 低存储成本                    | 立即可用                 | 单一可用区，可能有数据丢失风险          |
| Snowcone                         | 小规模的边缘计算和数据传输任务                              | 适用于小规模任务              | 设备传输                 | 适用于边缘位置的数据处理                |
| Snowball Edge - Storage Optimized| 大规模数据迁移，需要本地存储优化计算                        | 适合大规模存储和计算需要       | 设备传输                 | 支持本地存储和计算                      |
| Snowball Edge - Compute Optimized| 需要数据处理或分析的数据迁移任务                            | 适合计算密集型任务            | 设备传输                 | 支持更强大的计算能力                    |
| Snowmobile                       | 极大规模（exabytes级别）数据迁移                            | 适用于大规模数据中心迁移       | 设备传输                 | 适合数据中心到云的大规模数据迁移        |

## 亚马逊S3存储类别的成本效益，特别是对于归档数据，没有检索时间的要求。各选项的解释如下：

Amazon Glacier: 一种低成本的云存储服务，适用于数据归档和长期备份，检索时间可能从几分钟到几小时不等。

**Amazon Glacier Deep Archive**: 是Amazon S3的一种存储类别，为长期数据存档提供最低成本的解决方案，适合那些几乎不会检索的数据，检索时间可能需要12小时或更长。

Amazon S3 Standard-Infrequent Access (S3 Standard-IA): 适用于不经常访问，但需要快速访问时可立即获取的数据，成本低于标准存储，但高于Glacier。

Amazon S3 Intelligent Tiering: 自动将数据移动到最具成本效益的访问层，没有检索费用，适用于访问模式变化不定的数据。

## AWS（亚马逊网络服务）的数据迁移服务，特别是针对极大规模数据的迁移服务。各选项的解释如下：

Snowcone: 一个小型、轻便的边缘计算和数据传输设备，适用于较小规模的数据传输任务。

Snowball Edge: 一种物理设备，用于数据迁移和边缘计算，比Snowcone有更高的存储容量和计算功能，适用于较大规模的数据迁移。

Snowmobile: 一个用于在极大规模（达到exabytes级别）迁移数据进出AWS的服务，通常是一个装满数据存储设备的大型卡车。

## 对象不由哪项组成？”以下是选项及其解释：

Key（键）: 在Amazon S3中，每个对象都有一个唯一的标识符，称为“键”（Key），它是对象的名称。

Value（值）: 对象的“值”是对象的数据本身，即存储在S3中的实际数据。

Access Keys（访问密钥）: 访问密钥用于AWS身份验证，允许程序化方式访问AWS服务，但它们不是组成S3对象的一部分。

Metadata（元数据）: 元数据是关于对象的描述信息，例如对象的创建日期、最后修改日期等。

根据这些选项，正确答案是 Access Keys，因为访问密钥不是S3对象的一部分。对象由键、值和元数据组成。

## 选择适合的AWS服务来传输大量数据，并且还需要本地计算能力的服务。各选项的解释如下：

Snowball Edge - Storage Optimized: 这种设备专为大规模数据迁移和需要较高存储容量的循环传输工作流程设计，同时提供本地计算能力。

Snowball Edge - Compute Optimized: 这个选项提供了更强的计算能力，适合需要进行数据处理或分析的数据迁移任务。

Snowcone: 是AWS提供的最小型的边缘计算和数据传输设备，适合小规模的工作负载和数据传输任务。

Snowmobile: 一种用于传输极大规模数据（达到exabytes级别）的服务，适用于大规模数据中心迁移任务。

对于需要定期传输petabytes数据量的非盈利组织，并且需要访问本地计算能力的场景，Snowball Edge - Storage Optimized 是合适的选项，因为它提供了所需的大规模数据传输服务以及本地的存储优化计算能力。

## 选择适合不经常访问但需要保持高耐久性的数据，并在需要时可以快速访问的Amazon S3存储类别。同时，这个存储类别必须能够承受可用区故障。这里的选项包括：

Amazon S3 Standard - General Purpose: 这是一个通用存储类别，适用于频繁访问的数据，提供高耐久性和可用性。

Amazon Glacier: 适用于长期归档的数据，检索时间可能较长，不适合需要快速访问的场景。

Amazon S3 One Zone-Infrequent Access: 适合不经常访问的数据，存储成本较低，但所有数据只存储在一个可用区，如果那个可用区失败，数据可能丢失。

Amazon S3 Standard-Infrequent Access: 适用于不经常访问的数据，但当需要时可以快速访问，数据在多个可用区存储，以避免因灾难导致的数据丢失。

考虑到上述条件，Amazon S3 Standard-Infrequent Access 是最适合的选项，因为它结合了不频繁访问的低成本以及在需要时可以快速访问的能力，并且由于数据分布在多个可用区，它可以容忍单个可用区的故障。


